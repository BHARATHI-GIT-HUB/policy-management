<div class="bg-gray-100 min-h-screen pt-[90px]">
  <app-header class="sticky z-20"></app-header>
  <div class="container max-w-[90vw] my-10 md:space-y-3">
    <app-step [currentStep]="step"></app-step>
  </div>
  <p
    class="font-SF text-2xl md:text-4xl font-normal container text-center md:text-start"
  >
    Choose a Plan
  </p>
  <div
    class="container min-h-screen self-start flex flex-col space-y-20 md:flex-row items-center justify-center md:items-start mt-14 md:mt-0"
  >
    <div class="flex flex-col justify-evenly items-center space-y-4 md:hidden">
      <div class="flex items-start justify-between min-w-[200px] mx-5">
        <p class="text-lg font-SF font-normal text-licorice">Filters</p>
        <p
          class="text-lg font-SF font-normal text-pink-500 cursor-pointer"
          (click)="getPlans()"
        >
          Reset
        </p>
      </div>
      <ul
        nz-menu
        nzMode="inline"
        class="min-w-[200px] md:hidden flex items-start justify-evenly my-10"
      >
        <li nz-submenu nzTitle="Type" nzOpen>
          <ul *ngFor="let type of types">
            <li
              nz-menu-group
              (click)="filterByType(type)"
              nzTitle="{{ type }}"
            ></li>
          </ul>
        </li>
        <li nz-submenu nzTitle="Sub Type" nzOpen>
          <ul *ngFor="let subType of subTypes">
            <li
              nz-menu-group
              (click)="filterBySubtype(subType)"
              nzTitle="{{ subType }}"
            ></li>
          </ul>
        </li>
      </ul>
    </div>
    <div class="flex flex-col items-center space-y-16 justify-center">
      <ng-container *ngIf="!isLoading; else elseBlock">
        <ng-container *ngFor="let key of keys">
          <app-card
            [title]="key"
            [plans]="providerGroupedData.get(key)"
          ></app-card>
        </ng-container>
      </ng-container>
      <ng-template #elseBlock>
        <nz-spin nzSimple [nzSize]="'large'" class="!text-pink-500"></nz-spin>
      </ng-template>
    </div>
    <ul
      nz-menu
      nzMode="inline"
      class="max-w-[15vw] hidden md:block px-8 rounded-xl"
      *ngIf="!isLoading"
    >
      <li class="flex justify-between items-center mx-5 my-3">
        <p class="text-lg font-SF font-normal text-licorice">Filters</p>
        <p
          class="text-lg font-SF font-normal text-pink-500 cursor-pointer"
          (click)="getPlans()"
        >
          Reset
        </p>
      </li>
      <li nz-submenu nzTitle="Type" nzOpen>
        <ul *ngFor="let type of types">
          <li
            nz-menu-group
            (click)="filterByType(type)"
            nzTitle="{{ type }}"
          ></li>
        </ul>
      </li>
      <li nz-submenu nzTitle="Sub Type" nzOpen>
        <ul *ngFor="let subType of subTypes">
          <li
            nz-menu-group
            (click)="filterBySubtype(subType)"
            nzTitle="{{ subType }}"
          ></li>
        </ul>
      </li>
    </ul>
  </div>
  <div class="bg-licorice p-7 mt-10 text-cultured text-center font-SF text-xl">
    Insurrety Â©2024
  </div>
</div>
